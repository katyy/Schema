<Window x:Class="Schema.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:UI="clr-namespace:Schema.UI" Title="MainWindow" Height="617" Width="525" Loaded="Window_Loaded">
    <Grid>
    <TreeView x:Name="foldersItem"      
          Width="Auto" Background="#FFFFFFFF"
          BorderBrush="#FFFFFFFF"
          Foreground="#FFFFFFFF">
            <TreeView.Resources>
                <Style TargetType="{x:Type TreeViewItem}">
                    <Setter Property="HeaderTemplate">
                        <Setter.Value>
                            <DataTemplate>
                                <StackPanel Orientation="Horizontal">
                               <Image Name="img"  Width="20" Height="20" Stretch="Fill"
                                      Source="{Binding RelativeSource={RelativeSource Mode=FindAncestor,
                                        AncestorType={x:Type TreeViewItem}},
                                        Path=Tag,
                                        Converter={x:Static UI:HeaderToImageConverter.Instance}}"
                                    />
                                    <TextBlock Text="{Binding}" Margin="5,0" />
                                </StackPanel>
                            </DataTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </TreeView.Resources>
        </TreeView>
        <Label Content="Label" Height="28" HorizontalAlignment="Left" Margin="215,12,0,0" Name="lblError" VerticalAlignment="Top" />
    </Grid>
</Window>
